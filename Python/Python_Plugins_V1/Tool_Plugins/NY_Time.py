import time

def change_date(time):
    year = ((time & 0xFE00) >> 9) + 1980
    month = (time & 0x01E0) >> 5
    day = (time & 0x001F)

    print('%04d-%02d-%02d' % (year, month, day))

    return year, month, day

def change_time(time):
    hour = (time & 0xF800) >> 11
    minute = (time & 0x07E0) >> 5
    second = (time & 0x001F) * 2

    print('%02d:%02d:%02d' % (hour, minute, second))
    
    return hour, minute, second

def get_now_date(now = None):
    if not now :
        now = time.gmtime()
    
    time_year = now.tm_year - 1980
    time_year = (time_year << 9) & 0xFE00
    time_month = (now.tm_mon << 5) & 0x01E0
    time_day = now.tm_mday & 0x001F

    return (time_year | time_month | time_day) & 0xFFFF

def get_now_time(now = None):
    if not now :
        now = time.gmtime()

    time_hour = (now.tm_hour << 11) & 0xF800
    time_minute = (now.tm_min << 5) & 0x07E0
    time_second = (now.tm_sec // 2) & 0x001F

    return (time_hour | time_minute | time_second) & 0xFFFF
